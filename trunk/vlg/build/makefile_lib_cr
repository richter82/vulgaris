SRC =	../src/cr/cr_cfg.cpp\
		../src/cr/cr_dl.cpp\
		../src/cr/cr_logger.cpp\
		../src/cr/cr_concurrent.cpp\
		../src/cr/cr_obj_coll.cpp\
		../src/cr/cr_structs.cpp\
		../src/cr/cr_structs_mt.cpp\
		../src/cr/cr_core.cpp\
		../src/cr/cr_ascii_string.cpp\
		../src/cr/cr_parse.cpp\
		../src/cr/cr_structs_rep.cpp\
		../src/cr/cr_bbuf.cpp\
		../src/cr/cr_time.cpp
		
OBJ = $(SRC:.cpp=.o)
OUTDIR = ../bin/$(OUT_ARCH_DIR)/$(OUT_TRGT_DIR)/lib
INCLUDES = 	-I../public\
			-I../public/cpp\
			-I../src\
			-I../src/cr
			
CCFLAGS = -std=c++11 -Wall -fPIC $(CC_DBG_REL_OPT)
CCC = g++

.cpp.o:
	$(CCC) $(INCLUDES) $(CCFLAGS) -c $< -o $@

default: libcr
	
all: clean libcr
	
libcr: 	$(OBJ)
	ar rcs $(OUTDIR)/libcr.a $(OBJ)

clean:
	rm -f $(OBJ) $(OUTDIR)/libcr.a
