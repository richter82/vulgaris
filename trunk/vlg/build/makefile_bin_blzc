SRC = 	../src/blzc/blz_compiler.cpp\
		../src/blzc/blz_comp_utils.cpp\
		../src/blzc/blz_comp_parser.cpp\
		../src/blzc/blz_comp_gen_java.cpp\
		../src/blzc/blz_comp_gen_cpp_impl.cpp\
		../src/blzc/blz_comp_gen_cpp_headr.cpp
		
OBJ = $(SRC:.cpp=.o)
OUTDIR = ../bin/$(OUT_ARCH_DIR)/$(OUT_TRGT_DIR)/blzc
INCLUDES = 	-I../public/cpp\
			-I../src\
			-I../src/crlib
			
CCFLAGS = -std=c++11 -Wall -fPIC $(CC_DBG_REL_OPT)
CCC = g++
LDLIBS= -L../bin/$(OUT_ARCH_DIR)/$(OUT_TRGT_DIR)/lib -lblzpeer -lblzmodel -lblzpers -lcr -lpthread $(LD_ARCH_LIB)

.cpp.o:
	$(CCC) $(INCLUDES) $(CCFLAGS) -c $< -o $@

default: blzc
	
all: clean blzc
	
blzc: $(OBJ)
	$(CCC) $(LD_DBG_REL_OPT) -o $(OUTDIR)/blzc $(OBJ) $(LDLIBS)

clean:
	rm -f $(OBJ) $(OUTDIR)/blzc
